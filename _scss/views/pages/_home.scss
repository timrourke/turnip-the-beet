$home-main-background-top-overlay:rgba(10,50,90,0.35);
$home-main-background-bottom-overlay:rgba(8,30,40,0.6);

body {
  @media all and (min-width:600px) {
    height:600%;
  }
  background-attachment: fixed;
  background-size: cover;
  background-repeat: no-repeat;
  background-image:linear-gradient(to bottom, $home-main-background-top-overlay, $home-main-background-bottom-overlay), url('/images-build/backgrounds/background-greenfields-480.jpg');
  @media all and (min-width: 320px) {
    background-image:linear-gradient(to bottom, $home-main-background-top-overlay, $home-main-background-bottom-overlay), url('/images-build/backgrounds/background-greenfields-640.jpg');
  }
  @media all and (min-width: 480px) {
    background-image:linear-gradient(to bottom, $home-main-background-top-overlay, $home-main-background-bottom-overlay), url('/images-build/backgrounds/background-greenfields-800.jpg');
  }
  @media all and (min-width: 640px) {
    background-image:linear-gradient(to bottom, $home-main-background-top-overlay, $home-main-background-bottom-overlay), url('/images-build/backgrounds/background-greenfields-1024.jpg');
  }
  @media all and (min-width: 800px) {
    background-image:linear-gradient(to bottom, $home-main-background-top-overlay, $home-main-background-bottom-overlay), url('/images-build/backgrounds/background-greenfields-1280.jpg');
  }
  @media all and (min-width: 1024px) {
    background-image:linear-gradient(to bottom, $home-main-background-top-overlay, $home-main-background-bottom-overlay), url('/images-build/backgrounds/background-greenfields-1600.jpg');
  }
  @media all and (min-width: 1280px) {
    background-image:linear-gradient(to bottom, $home-main-background-top-overlay, $home-main-background-bottom-overlay), url('/images-build/backgrounds/background-greenfields-1890.jpg');
  }
  @media all and (min-width: 1600px) {
    background-image:linear-gradient(to bottom, $home-main-background-top-overlay, $home-main-background-bottom-overlay), url('/images-build/backgrounds/background-greenfields-2400.jpg');
  }
}

$home-site-header-top-overlay:rgba(50,90,120,0.25);
$home-site-header-bottom-overlay:rgba(230,120,30,0.18);

.home .site-header {
  top:0;
  left:0;
  height:100%;
  @media all and (min-width: 600px) {
    position:absolute;  
  }
  .site-header__background {
    position:absolute;
    top:0;
    left:0;
    width:100%;
    height:100%;
    z-index:-1;
    background-position:center center;
    @media all and (min-width: 600px) {
      padding-bottom:50%;
      background-position: center 35%;
    }
    background-size: cover;
    background-repeat: no-repeat;
    background-image:linear-gradient(to bottom, $home-site-header-top-overlay, $home-site-header-bottom-overlay), url('/images-build/backgrounds/background-tractor-320.jpg');
    @media all and (min-width: 320px) {
      background-image:linear-gradient(to bottom, $home-site-header-top-overlay, $home-site-header-bottom-overlay), url('/images-build/backgrounds/background-tractor-480.jpg');
    }
    @media all and (min-width: 480px) {
      background-image:linear-gradient(to bottom, $home-site-header-top-overlay, $home-site-header-bottom-overlay), url('/images-build/backgrounds/background-tractor-640.jpg');
    }
    @media all and (min-width: 640px) {
      background-image:linear-gradient(to bottom, $home-site-header-top-overlay, $home-site-header-bottom-overlay), url('/images-build/backgrounds/background-tractor-800.jpg');
    }
    @media all and (min-width: 800px) {
      background-image:linear-gradient(to bottom, $home-site-header-top-overlay, $home-site-header-bottom-overlay), url('/images-build/backgrounds/background-tractor-1024.jpg');
    }
    @media all and (min-width: 1024px) {
      background-image:linear-gradient(to bottom, $home-site-header-top-overlay, $home-site-header-bottom-overlay), url('/images-build/backgrounds/background-tractor-1280.jpg');
    }
    @media all and (min-width: 1280px) {
      background-image:linear-gradient(to bottom, $home-site-header-top-overlay, $home-site-header-bottom-overlay), url('/images-build/backgrounds/background-tractor-1600.jpg');
    }
    @media all and (min-width: 1600px) {
      background-image:linear-gradient(to bottom, $home-site-header-top-overlay, $home-site-header-bottom-overlay), url('/images-build/backgrounds/background-tractor-1890.jpg');
    }
    @media all and (min-width: 1890px) {
      background-image:linear-gradient(to bottom, $home-site-header-top-overlay, $home-site-header-bottom-overlay), url('/images-build/backgrounds/background-tractor-2400.jpg');
    }
  }
}

.site-intro {
  display:none;
}

.home .site-intro {
  @include extend-animation(smoothFadeInUpCenterCenter, 1.35s, 1s, ease-in-out, 0, forwards);
  display:block;
  position:absolute;
  top:60%;
  left:50%;
  transform:translateX(-50%) translateY(-50%);
  width:100%;
  font-size:150%;
  padding:u(1rem);
  font-family:$sans-serif;
  font-weight:300;
  background:rgba(0,0,0,0.4);
  outline:3000px solid rgba(0,0,0,0.4);
  color:white;
  text-align:center;
  @media all and (min-width:600px) {
    width:80%;
    top:50%;
    font-size:200%;
  }
  @media all and (min-width:800px) {
    width:70%;
  }
  @media all and (min-width:900px) {
    width:50%;
  }
}

.home .site-intro__link {
  @include extend-animation(smoothFadeInUp, 0.8s, 1.55s, ease-out, 0, forwards);
  font-weight:900;
  color:white;
}

// Front page layouts

.home section {
  @extend .clearfix;
  left:0;
  background-image:linear-gradient(to bottom, #eee, #ddd);
  width:100%;
  padding:1em;
  position:relative;
  min-height:50em;
  border-bottom:1px solid #d5d5d5;
  @media all and (min-width:600px) {
    padding:2em;
    position:absolute;
    height:100%;
    min-height:0;
  }
}

// About
.home .about-promo {
  position:relative;
  @media all and (min-width:600px) {
    margin-top:0;
    position:absolute;
    top:100%;
    height:150%;
  }
  & .col-1-3 {
    width:100%;
    height:20em;
    padding:1em;
    @media all and (min-width:600px) {
      padding:2em;
      width:50%;
      height:33.33333%;
    }
  }
  .about-grid__three {
    float:right;
  }
  .about-grid__four {
    float:right;
  }
  @media all and (min-width:950px) {
    height:100%;
    .col-1-3 {
      width: 33.33333%;
      float: left;
      height:50%;
    }
  }
}

// Food
.home .food-promo {
  position:relative;
  @media all and (min-width:600px) {
    position:absolute;
    top:250%;
  }
  @media all and (min-width:950px) {
    top:200%;
  }
}

.home .field-notes-promo {
  @media all and (min-width:600px) {
    top:350%;
  }
  @media all and (min-width:950px) {
    top:300%;
  }
}

.home .photos-promo {
  min-height:40em;
  padding-top:5em;
  & .col-1-3 {
    @extend .col-1-2;
    height:33.33333%;
    @media all and (min-width: 600px) {
      height:33.33333%;
    }
  }
  @media all and (min-width:600px) {
    padding-top:0;
    top:450%;
    height:150%;
  }
  @media all and (min-width:950px) {
    height:100%;
    top:400%;
    .col-1-3 {
      width: 33.33333%;
      float: left;
      height:50%;
    }
  }
}

.home .site-footer {
  @media all and (min-width:600px) {
    position: absolute;
    top:600%;
    height:100%;
  }
  @media all and (min-width:950px) {
    top:500%;
  }
}

.site-footer {
  width:100%;
  padding:1em;
  @media all and (min-width:600px) {
    padding:2em;  
  }
}


/*
 * Front page layout details
 *
 * ABOUT
 *
 */

.home .about-promo {
  padding:0;
  text-align: center;
  color:white;
  background: rgba(0,0,0,0.3);
}

.home .about-promo .section-title {
  color:white;
}

.home .about-promo .col-1-3 {
  position:relative;
}

.home .about-promo .inner-content-wrap {
  position:absolute;
  top:50%;
  transform:translateY(-50%);
  left:0;
  width:100%;
  padding:2em;
}

.home .about-promo p {
  margin-bottom:0;
}

$about-grid-linear-gradient:linear-gradient(to bottom, $home-site-header-top-overlay, $home-site-header-bottom-overlay);

.about-grid__one {
  background-image:$about-grid-linear-gradient, url('/images-build/about/john-tractor-original.jpg');
  background-size:cover;
  background-repeat: no-repeat;
}

.about-grid__three {
  background-image:$about-grid-linear-gradient, url('/images-build/about/11143534_424251924401593_7162826770879627122_n-original.jpg');
  background-size:cover;
  background-repeat: no-repeat;

}

.about-grid__five {
  background-image:$about-grid-linear-gradient, url('/images-build/about/two-farmers-and-a-blue-heeler-1024.jpg');
  background-size:cover;
  background-repeat: no-repeat;
  background-position: 20% center;
}

.about-grid__one,
.about-grid__three,
.about-grid__five {
  box-shadow:0 0 5px rgba(0,0,0,0.125);
  border:0.5em solid white;
}

/*
 * Front page layout details
 *
 * FOOD
 *
 */
.home .food-promo {
  min-height:0;
  overflow: hidden;
}

.food-grid {
  position:relative;
  height:100%;
  width:100%;
  @media all and (min-width:600px) {
    width:41.66667%;
  }
  .col-group {
    position:relative;
    height:0;
    width:100%;
    padding-bottom:33.33333%;
    @media all and (min-width:600px) {
      height:66.66666%;
      padding-bottom:0;
    }
    @media all and (min-width:800px) {
      height:38.2%;
    }
  }
}

.food-grid__item {
  border:0.5em solid white;
}

.food-grid__top {
  width:33.33333%;
  height:0;
  padding-bottom:33.33333%;
  float:left;
  position:relative;
  background-image:$about-grid-linear-gradient, url('/images-build/about/2-Fall-CSA-Lela-lookin-pretty-original.jpg');
  background-size:cover;
  background-repeat: no-repeat;
  background-position:center 37%;
  border-right:0.25em solid white;
  @media all and (min-width:600px) {
    height:100%;
    border-right:0.5em solid white;
    border-bottom:0;
    float:none;
    height:33.33333%;
    width:100%;
  }
  @media all and (min-width:800px) {
    height:61.8%;
  }
}

.food-grid__left,
.food-grid__right {
  position:relative;
  background-size:cover;
  background-repeat: no-repeat;
  width:33.33333%;
  height:0;
  padding-bottom:33.33333%;
  float:left;
  border:0.5em solid white;
  @media all and (min-width:600px) {
    float:none;
    clear:both;
    height:50%;
    width:100%;
    border-top:0.25em solid white;
  }
  @media all and (min-width:800px) {
    float:left;
    clear:none;
    height:100%;
    width:50%;
  }
}

.food-grid__left {
  background-image:$about-grid-linear-gradient, url('/images-build/food/1stfalcsa-original.jpg');
  border-left:0.25em solid white;
  border-right:0.25em solid white;
  @media all and (min-width:600px) {
    border-top:0.5em solid white;
    border-left:0.5em solid white;
    border-right:0.5em solid white;
  }
  @media all and (min-width:800px) {
    border-right:0.25em solid white;
  }
}

.food-grid__right {
  background-image:$about-grid-linear-gradient, url('/images-build/food/spud-harvest-original.jpg');
  border-left:0.25em solid white;
  @media all and (min-width:600px) {
    border-left:0.5em solid white;
    border-top:0;
  }
  @media all and (min-width:800px) {
    border-top:0.5em solid white;
    border-left:0.25em solid white;
  }
}

.home .food-article {
  position:relative;
  clear:both;
  width:100%;
  float:left;
  padding:1em;
  background-color:white;
  @media all and (min-width:600px) {
    padding:1em 2em 1em 1em;
    clear:none;
    float:right;
    height:100%;
    width:58.33333%;
  }
  @media all and (min-width:700px) {
    padding:2em 2em 2em 2em;
  }
  @media all and (min-width:900px) {
    padding:3em 3em 3em 3em;
  }
  @media all and (min-width:1100px) {
    padding-top:1em;
  }
}

.home .food__farmers-market-schedule {
  position: relative;
  margin-top:0;
  margin-left: auto;
  margin-right: auto;
  max-width:25em;
  border:1px solid #666;
  padding:1em 1em 0 1em;
  text-align:center;
  @media all and (min-width:600px) {
    margin-top:-0.5em;
  }
  @media all and (min-width:800px) {
    margin-top:1em;
  }
  .fancyCorner-top-left {
    position:absolute;
    top:-1px;
    left:-1px;
    width:1em;
    height:1em;
    border-top:5px solid white;
    border-left:5px solid white;
    border-bottom:1px solid #666;
    border-right:1px solid #666;
    background-color:lighten($neutral-input-color, 25%);
  }
  .fancyCorner-top-right {
    position:absolute;
    top:-1px;
    right:-1px;
    width:1em;
    height:1em;
    border-top:5px solid white;
    border-left:1px solid #666;
    border-bottom:1px solid #666;
    border-right:5px solid white;
    background-color:lighten($neutral-input-color, 25%);
  }
  .fancyCorner-bottom-left {
    position:absolute;
    bottom:-1px;
    left:-1px;
    width:1em;
    height:1em;
    border-top:1px solid #666;
    border-left:5px solid white;
    border-bottom:5px solid white;
    border-right:1px solid #666;
    background-color:lighten($neutral-input-color, 25%);
  }
  .fancyCorner-bottom-right {
    position:absolute;
    bottom:-1px;
    right:-1px;
    width:1em;
    height:1em;
    border-top:1px solid #666;
    border-left:1px solid #666;
    border-bottom:5px solid white;
    border-right:5px solid white;
    background-color:lighten($neutral-input-color, 25%);
  }
}

.home .food__farmers-market-schedule .schedule-item--last {
  margin-bottom:1em;
}

/*
 * Front page layout details
 *
 * PHOTOS
 *
 */

.home .photos-promo {
  position:relative;
  //margin-bottom:0em;
  border:0.25em solid #ddd;
  border-bottom:4em solid #ddd;
  @media all and (min-width:600px) {
    border-bottom:0.25em solid #ddd;
    padding:0;
    position:absolute;
  }
}

.home .photo-grid {
  position:absolute;
  padding-top:6em;
  width:100%;
  height:100%;
  left:0;
  top:0;
  @media all and (min-width:600px) {
    padding-top:0;
  }
}

.home .photo-grid__item {
  position:relative;
  overflow:hidden;
  height:33.33333%;
  background-size:cover;
  background-repeat:no-repeat;
  border:0.25em solid #ddd;
  &::before {
    position:absolute;
    content:'';
    top:0;
    left:0;
    width:100%;
    height:100%;
    background-color:rgba(0,0,0,0.5);
    z-index:2;
    transition:opacity 0.3s ease-in-out;
  }
  &:hover {
    cursor: pointer;
  }
  &:hover::before {
    opacity:0;
  }
  @media all and (min-width:600px) {
    height:50%;
  }
}

.home .photo-grid__photo {
  position:absolute;
  top:0;
  left:50%;
  transform:translateX(-50%);
}

.home #photos .section-title {
  position:absolute;
  top:1em;
  left:0;
  width:100%;
  text-align:center;
  z-index:100;
  color:#444;
  @media all and (min-width:600px) {
    color:white;
  }
}

.home #photos #js-image-nav {
  position:absolute;
  display:block;
  bottom:-3em;
  left:0;
  width:100%;
  height:2em;
  z-index:200;
  text-align: center;
  @media all and (min-width: 600px) {
    bottom:2em;  
  }
}

.home #photos #js-image-nav__ul {
  display:block;
  list-style-type: none;
  padding:0;
  margin:0 auto;
  height:2em;
}

.home #photos #js-image-nav__ul li {
  display:inline-block;
  //float:left;
  margin:0 auto;
  padding:0 0.5em;
  width:2em;
  height:1em;
  font-family:$sans-serif;
  font-weight:400;
  font-size:150%;
  text-align:center;
}

.home #photos .js-image-nav__link {
  display:block;
  width:1em;
  height:1em;
  color:#444;
  @media all and (min-width: 600px) {
    color:white;
  }
  &.active {
    color: $active-input-color;
  }
}

.lightbox {
  &::before {
    position:absolute;
    content:'×';
    top:-2.5%;
    right:-2.5%;
    width:50px;
    height:50px;
    line-height:50px;
    color:transparentize($neutral-input-color, 0.25);
    font-weight:900;
    font-family:$sans-serif;
    font-size:600%;
    z-index:2;
  }
  &:hover {
    cursor:pointer;
  }
  & img {
    height:100%;
    width:auto;
    max-width:none;
    box-shadow: 0 0 1000px 1000px rgba(0,0,0,0.8);
  }
}


/*
 * Front page layout details
 *
 * BLOG
 *
 */

.field-notes-promo {
  overflow: hidden;
  padding-bottom:1em;
}

.field-notes-promo .col-group {
  @include layout(12 .25 after);
  @media all and (min-width: 600px) {
    position:absolute;
    width:100%;
    padding-right:4em;
    padding-bottom:2em;
    bottom:0em;
    top:6em;
  }
}

.field-notes-promo .col-1-3 {
  position:relative;
  width:100%;
  height:33.33333%;
  margin-right:0;
  margin-bottom:1em;
  @media all and (min-width: 600px) and (max-width: 899px) {
    position:relative;
    height:32.5%;
    margin-bottom:1.24999%;
  }
  @media all and (min-width: 900px) {
    width:32.5%;
    margin-right:1.24999%;
    height:100%;
  }
}

.field-notes-promo .col-last {
  float:right;
  margin-right:0;
}

.blog__excerpt .blog-post__featuredImage {
  display:block;
  overflow: hidden;
  width:3em;
  height:3em;
  border-radius:50%;
  float:left;
  margin-top:-0.25em;
  margin-right: 0.75em;
  img {
      height:150%;
      width:auto;
    }
  @media all and (min-width:900px) {
    float:none;
    width:115%;
    height:0;
    border-radius:0;
    padding-bottom:80%;
    margin-right:0;
    margin-left:-1em;
    margin-top:-1em;
    margin-bottom:1em;
    img {
      width:100%;
      height:auto;
      display:block;
    }
  }
  @media all and (min-width:1000px) {
    padding-bottom:85%;
  }
  @media all and (min-width:1200px) {
    padding-bottom:70%;
  }
}

.home .blog__excerpt .blog-post__featuredImage {
  @media all and (min-width: 900px) {
    padding-bottom:70%;
  }
  @media all and (min-width: 1000px) {
    padding-bottom:60%;
  }
}

.blog__excerpt {
  @extend .clearfix;
  background-color:white;
  padding:1em 1em 2em 1em;
  overflow: hidden;
  box-shadow:0 0 3px 3px rgba(0,0,0,0.025);
  @media all and (min-width:600px) {
    padding-bottom:1em;
  }
  @media all and (min-width: 600px) and (max-width: 800px) {
    position:relative;
    height:100%;
  }
  @media all and (min-width:800px) {
    height:100%;
  }
}

.post-title {
  margin-bottom:0.125em;
}

.blog__excerpt .meta-row {
  font-size:0.8em;
  color:#888;
}

.home .blog-post__content {
  position:relative;
  max-height: 20em;
  margin-top:1em;
  overflow:hidden;
  font-size:0.8em;
  @media all and (min-width:600px) and (max-width:800px) {
    position:absolute;
    top:3em;
    bottom:1em;
    padding:1.8em 1.6em 1.2em 1.6em;
    left:0;
    width:100%;
  }
  @media all and (min-width:800px) {
    font-size:0.9em;
    padding:0em 0.2em 0.8em 0.2em;
  }
  @media all and (min-width:1100px) {
    font-size:0.9em;
  }
}

.blog-post__footer {
  @media all and (min-width:600px) and (max-width:800px) {
    position:absolute;
    bottom:0em;
    right:1em;
    height:2em;
    z-index:100;
  }
}

a.permalink {
  position:absolute;
  bottom:1em;
  right:1em;
  width:8em;
  height:1em;
  text-align:right;
  color:$neutral-input-color;
  font-family:$sans-serif;
  @media all and (min-width:600px) and (max-width: 800px) {
    right:0em;
  }
}
